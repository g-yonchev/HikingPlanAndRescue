@model HikingPlanAndRescue.Web.Areas.Private.Models.TrainingListItemViewModel

<h3>@Model.Title</h3>
<p class="info">@Html.DisplayFor(x => x.StartDate)</p>
<p class="lead">Track details:</p>
<p>Title: @Html.DisplayFor(x => x.Title)</p>
<p class="info">(Length: @Html.DisplayFor(x => x.TrackLength) km)</p>

@{
    ViewBag.TrainingId = Model.Id;
}

@if (Model.StartDate > DateTime.Now && Model.CheckedInOn == null)
{
    ViewBag.Command = "checkin";
    ViewBag.Text = "CheckIn";
    <p>
        @Html.Partial("_WatchBtn")
    </p>
}
else if (Model.CheckedInOn != null && Model.CheckedOutOn == null)
{
    <p>CheckedIn on: @Html.DisplayFor(x => x.CheckedInOn)</p>
    ViewBag.Command = "checkout";
    ViewBag.Text = "CheckOut";
    <p>
        @Html.Partial("_WatchBtn")
    </p>
}
else if (Model.CheckedInOn != null && Model.CheckedOutOn != null)
{
    <p>CheckedIn on: @Html.DisplayFor(x => x.CheckedInOn)</p>
    <p>CheckedOut on: @Html.DisplayFor(x => x.CheckedOutOn)</p>
    ViewBag.Command = "reset";
    ViewBag.Text = "Cancel CheckOut";
    @Html.Partial("_WatchBtn")
}

<hr />